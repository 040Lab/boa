Hello,

Your Aegir Hosting System has been upgraded to version 1.0-boa-T-8.

Also your system services, kernel and libraries have been upgraded.                         

Your Aegir control panel is available as before at:

 https://aegir.dragon.ny.host8.biz


!! Please read this e-mail in its entirety. It contains
!! important, *updated* information required to properly leverage
!! all your available Aegir features.


----------------------------------------
# What is new or updated this time
----------------------------------------

* New platforms [supported in all Aegir hosted versions]:

  Conference 1.0-alpha3 -------- http://usecod.com
  Open Enterprise 1.0-beta2 ---- http://leveltendesign.com/enterprise
  Acquia 7.0 ------------------- http://bit.ly/acquiadrupal
  ProsePoint 0.37 -------------- http://prosepoint.org
  Drupal Commerce 7.0-dev ------ http://drupalcommerce.org
 
* Basic Drupal 6 and Drupal 7 platforms now come in three instances,
  to make your standard workflow easier for: -dev, -stage and -prod,
  with correct suffix: D.00x, S.00x and P.00x in the platform name.

* Added support for robotstxt module in all new 6.x based platforms. 

* Speed Booster for 5.x, 6.x and 7.x Drupal platforms.
  This new feature adds super fast caching for anonymous visitors,
  and yes! - also for logged in users (cache per user) directly on
  the web server level - no Drupal module required.
  It works for all platforms, except of Ubercart, Commerce
  and any platform with ubercart in sites/all/modules/ubercart.

* To disable Speed Booster per platform, create an empty directory
  with the name "ubercart" (unless you have there the real ubercart
  module), with one empty README.txt file inside, so its path
  will be: sites/all/modules/ubercart/README.txt

* Import your sites in 8 easy steps recipe - see further below.

* New platforms [supported only in Aegir Classic and TG version]:

  OpenPublic 7.0-beta1 --------- http://openpublicapp.com
  NodeStream ------------------- http://nodestream.org
  Drupal Commons 1.5 ----------- http://acquia.com/drupalcommons
  OpenScholar 2.0-beta10 ------- http://openscholar.harvard.edu

  Q: How to upgrade from Aegir Mini to Classic?
  
  A: Place a new order at http://omega8.cc/hosted-aegir
     and your old subscription will be cancelled
     plus any unused amount refunded the same day.

  Q: How to upgrade from Aegir Mini or Classic to Aegir TG?
  
  A: Aegir TG is a special, very high performance option,
     hosted on the high-end hardware in a separate custom
     cloud, so simple upgrade is not possible. Separate
     subscription and site migration will be required.

* Nginx server upgraded to version Barracuda/1.0.0
* Nginx Fast Private File Transfer for Drupal using X-Accel-Redirect.
* Support for secure ubercart keys location to use ../keys path.
* Open Atrium 1.0-beta10 now includes new Ideation feature.
* The filefield_nginx_progress now also in every 7.x platform.
* Drush upgraded to version 4.4
* Drush Make upgraded to version 2.2
* Redis cache server upgraded to version 2.0.5
* PHP-FPM server upgraded to version 5.2.17
* MariaDB server configuration improved.
* Memcache extension replaced with memcached and libmemcached.
* Chive database manager upgraded to version 0.4.1


----------------------------------------
# What will be next
----------------------------------------

* Automated FTP/SSH accounts per site and per platform.
* Embedded Aegir Knowledge Base and How-To Recipes.
* ...and more.


----------------------------------------
# Improvements since January 1st
----------------------------------------

* Aegir runs cron for D5 and D6 sites using Wget instead of Drush
  to leverage APC cache, while D7 can use built-in poormanscron.
* Many improvements in the Speed Booster cache configuration.
* Improved memcached/redis cache bins configuration.
* The o_contrib modules now symlinked also in custom platforms.
* Boost directories created automatically also in custom platforms.
* Improved web server self-healing monitor.
* PHP notices no longer displayed for dev subdomains, only errors.
* Many improvements in the Nginx configuration - now it's faster.
* Permisions on uploaded modules, themes and files are now
  automatically fixed every morning to help with post-import issues.
* Almost all 6.x platforms now come with performance related
  modules already enabled and configured on site install by default.
* Nginx config - now doesn't use php-fpm to serve fckeditor files.
* Introduced possibility to add upgrade-safe custom Nginx rewrite
  rules to support transparent migration of legacy URLs/content.
* Aegir Hostmaster control panel received extra caching and speed.
* Better support for securepages 1.9 with forced secure cookies.
* Better support for dynamically created base_url for http/https.
* All 6.x platforms now receive some performance related modules.
* Too generic D7 profile names replaced with unique Drupal 7 names.
* A few new commands have been added to your Aegir Drush Shell (SSH).
* You can use git to manage the code and rsync to manage backups.
* Useful new commands from Drush v.4 are now available.
* Now it is possible to delete old sites backups created in Aegir.
* You can access Aegir backups also via SSH or SFTP/FTPS.
* You can cancel queued task in Aegir before it is started.
* The "dev" anywhere in the subdomain enables all PHP errors/notices.
* You can use "dev" type alias for live site for easier debugging.
* Added support for imagecache_external module.
* It is possible to safely delete any not used platforms on request.
* Access to static files allowed only for currently used domain.
* Added crossdomain.xml in the root of every new platform.
* New rewrite introduced to map /files to /sites/domain/files,
  /images to /sites/domain/files/images and
  /downloads to /sites/domain/files/downloads.
* The standard /update.php works again, however using "drush dbup"
  command is recommended.
* The "drush mup" command allows now to upgrade contributed modules.


----------------------------------------
# Fixes since January 1st
----------------------------------------

* Fixed double slash in the images paths issue in the Pressflow core.
* Speed Boster cookies shouldn't be sent for imagecache/styles
  and AdvAgg module dynamic requests.
* Speed Boster shouldn't cache imagecache/styles and AdvAgg module
  dynamic requests on the Nginx level.
* Nginx upgrade to 1.0.0 fixes known issue with random but very high
  CPU load on Nginx server configuration reload/restart.
* Fix for critical bug causing sessions issues on older sites without
  $cookie_domain set in settings.php when speed booster is enabled.
* The session.cookie_secure is no longer forced in D6 platforms.
* Security issue #1098304 - domain aliases were not sanitized.
* Nginx config - proper fix for broken wysiwyg pop-ups.
* Fixed issue with Nginx configuration for private files access.
* The authorize.php added to allowed php files - required in D7.
* Known issue with paths to files not rewritten is now fixed.
* Known issue with sites cron semaphore in Aegir now resolved.
* Known issue with PHP notices breaking some Aegir tasks resolved.
* Fixed web server rewrites to support "ad" module.
* Fixed Aegir issue with .info and .pl domains extensions.
* Drush make via SSH now works as expected.
* Fixed Nginx issue with /system/ paths and static files or images.
* Fixed issue with broken site when non-lowercase domain was used.


----------------------------------------
# Other changes
----------------------------------------

* Forced public downloads for all 6.x platforms, except of ubercart.
* Boost crawler option is now denied for performance reasons.
* Forced log-out on browser quit only for Aegir control panel. 
* The auto-cron in D7 now disabled, since Aegir runs scheduled cron
  for all sites.


----------------------------------------
# Also worth to note
----------------------------------------

To realize the full speed from our servers, you simply need
to enable the module *cache* (it's like cacherouter, but
with chained cache - memcache/redis/db with auto-failover)
for every site you wish to accelerate. This module will
accelerate the site only for logged in users.

We also highly recommend to enable the *Boost* and *DB Tuner*
modules. After enabling *DB Tuner* please add all standard and
extra indexes recommended by the module.

The *Boost* module will accelerate your site for anonymous
visitors, while *DB Tuner* will do that both for anonymous
and logged in users.

All three modules are by default available for all 6.x
platforms only.

There is also one extra Pressflow core module we recommend
to enable: *Path alias cache*.

When creating a development version of your site, you'll
want to work with our optimized caching systems turned off.

There is a speed-auto-switch available for dev/prod environments.
Any site you create/access with *dev* in the subdomain, will have
all caching and css/js aggregation disabled automatically,
while all PHP errors enabled for easier debugging of issues,
including those causing WSOD.

You don't need to rename the site to be able to work on it
in the "dev" mode. Simply add a *dev* domain alias and
use it to access the site when you wish to skip all hardcoded
caching used on the non-dev domain.

Your Aegir control panel is using self-signed SSL certificate,
so you browser can display warning. Please add this certificate
as accepted in your system settings to avoid displaying it
each time you are trying to log in.

You can manage your databases via Chive Manager web interface,
using access credentials (dbhost, dbname and dbpass) available
in every site settings.php file.

Chive Manager URL: https://166.84.6.231


----------------------------------------
# FTP and SSH access
----------------------------------------

Your FTP/SSH username and password didn't change (unless you
changed it already).

Please change your password via SSH with "passwd" command
at least every 3 months. Otherwise the password will expire in 90 days
and you will have to log in via SSH to restore your FTP access.

  host: aegir.dragon.ny.host8.biz
  user: dragon.ftp
  pass: FN8rXcQn (initial)

We recommend using SSH keys instead of password.

It is highly recommended you use only SSL/TLS connections for FTPS.
Compatible FTP-SSL/TLS clients are listed here:

 http://omega8.cc/dev/ftp-tls.txt

Make sure you are adding modules and themes to your expected
platform. If you experience issues, you can contact our
support department.

To see all available shell commands please type "help" when
logged in via SSH.


----------------------------------------
# Import your sites in 8 easy steps
----------------------------------------

1. Upload or rsync full drupal root of your site to static/custom/name

2. Chmod everything with command:
   $ chmod -R 775 static/custom/name
   and files only with:
   $ chmod -R 777 static/custom/name/sites/default/files/*

3. Add platform in Aegir using full system path of static/custom/name
   so it will be (in this case) /data/disk/USER/static/custom/name

4. Create an empty site in the new platform with your final domain
   like your-domain.com

5. Move all files from sites/default/files to sites/domain/files
   with: cp -af sites/default/files/* sites/domain/files/

6. Import your uploaded database (or use backup_migrate module) with:
   $ cd static/custom/name/sites/domain
   $ drush sqlc < /data/disk/USER/static/domain.sql
   $ drush cc all

7. Rename the site (using Migrate task) twice - first to some
   temporary subdomain like custom-name.your-domain.com and then
   back to your final domain your-domain.com

8. Finally, re-verify the site in Aegir. Done!

Note that since we allow only Pressflow core based platforms for
5.x and 6.x Drupal versions, after initial import you should
migrate your site to the Pressflow based platform ASAP.

Hint1: Replace USER with your Aegir Octopus system (not ftp) username.
       Your Aegir system username is the same as your ftp username,
       minus .ftp. NOTE: you don't have an access to your Aegir system
       user, it is mentioned above only to help you using correct path.

Hint2: If your site have been installed as Drupal multisite on your
       previous server (so not in the sites/default), then you have to
       upload its files and optionally themes and modules existing
       in the sites/your-domain.com *after* you created an empty site
       in the step #4 above. Please don't upload sites/your-domain.com
       directory in step #1, you need to upload it in step #5 and then:
       $ chmod -R 777 static/custom/name/sites/your-domain.com/files/*


----------------------------------------
# Always useful hints
----------------------------------------

* Chmod -R 775 all modules and themes when uploaded via SSH or Drush.
* Chmod -R 777 all files uploaded to the sites/domain/files.
* Re-verify the site in Aegir after uploading your modules and themes.
* Run verify task on every site and platform after modules updates.
* Run verify task on site and its platform before running clone.
* Run verify task on site and both platforms before running migrate.
* Use migrate task to rename the site (domain).
* Your FTP/SSH access to platforms is limited to /sites directory.
* If any task is running longer than 10 minutes, contact us.
* If any task fails, send us the task log for debugging.


Questions? Comments? Please contact us:

 http://omega8.cc/contact

Thank you,
Omega8.cc Team
